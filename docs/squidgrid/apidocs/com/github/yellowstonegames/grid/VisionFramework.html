<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>VisionFramework (squidgrid 4.0.0-beta1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.github.yellowstonegames.grid, class: VisionFramework">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.github.yellowstonegames.grid</a></div>
<h1 title="Class VisionFramework" class="title">Class VisionFramework</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.github.yellowstonegames.grid.VisionFramework</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="VisionFrameworkRgb.html" title="class in com.github.yellowstonegames.grid">VisionFrameworkRgb</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Beta
</span><span class="modifiers">public class </span><span class="element-name type-name-label">VisionFramework</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Encapsulates currently-visible and previously-seen cell data, and allows updating and modifying light levels/colors.
 <br>
 After creating a VisionFramework, You can call <a href="#restart(char%5B%5D%5B%5D,com.github.yellowstonegames.grid.CoordFloatOrderedMap,int)"><code>restart(char[][], CoordFloatOrderedMap, int)</code></a> when you have a
 2D char array to use as the map and one or more viewer positions. After that, add light sources to <a href="#lighting"><code>lighting</code></a>.
 Then you can render the map "background" colors by calling <a href="#update(float)"><code>update(float)</code></a> (every frame) and getting the
 colors/opacities for anything that can move around (monsters, some traps or effects) using
 <a href="#getForegroundColor(int,int,float)"><code>getForegroundColor(int, int, float)</code></a> (also every frame, once per creature/effect). The update() and
 getForegroundColor() methods take a float, millisSinceLastMove, which is measured in milliseconds since the last
 action the player took; this allows cells to fade into or out of view over a short period of time. The background
 colors are available at <a href="#backgroundColors"><code>backgroundColors</code></a> once update() has been called. When the player character or
 characters change position (or any special vision the player has moves, like a remote camera), call
 <a href="#moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>moveViewer(Coord, Coord)</code></a>. You probably want to move any light source a character carries immediately before
 calling moveViewer(), so the new position shows the changed lighting right away; moving lights uses
 <a href="LightingManager.html#moveLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>LightingManager.moveLight(Coord, Coord)</code></a>. When a small part of the world changes, call
 <a href="#editSingle(com.github.yellowstonegames.grid.Coord,char)"><code>editSingle(Coord, char)</code></a> (such as for a door opening), or <a href="#editAll(char%5B%5D%5B%5D)"><code>editAll(char[][])</code></a> if a large
 part of the world changes at once. After any viewer, light source, or map feature changes (or several if they all
 changed at once), you should call <a href="#finishChanges()"><code>finishChanges()</code></a>, which updates <a href="#prunedPlaceMap"><code>prunedPlaceMap</code></a> with the actually
 visible map cells, handles lighting changes, and so on.
 <br>
 To recap, the methods here get called in this order:
 <ol>
     <li>Call <a href="#restart(char%5B%5D%5B%5D,com.github.yellowstonegames.grid.Coord,float)"><code>restart(char[][], com.github.yellowstonegames.grid.Coord, float)</code></a> when an area map is loaded, giving it the viewer(s) and their vision range(s).</li>
     <li>Call <a href="LightingManager.html#addLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Radiance)"><code>LightingManager.addLight(Coord, Radiance)</code></a> on <a href="#lighting"><code>lighting</code></a> for every light source.</li>
     <li>Every "turn" (when an input is entered), call <a href="LightingManager.html#moveLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>LightingManager.moveLight(Coord, Coord)</code></a> if a light source moved.</li>
     <li>Every "turn" (when an input is entered), call <a href="#removeViewer(com.github.yellowstonegames.grid.Coord)"><code>removeViewer(Coord)</code></a> if a viewer was removed.</li>
     <li>Every "turn" (when an input is entered), call <a href="#moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>moveViewer(Coord, Coord)</code></a> if a viewer moved.</li>
     <li>Every "turn" (when an input is entered), call <a href="#editSingle(com.github.yellowstonegames.grid.Coord,char)"><code>editSingle(Coord, char)</code></a> if a map cell was altered (such as a door opening).</li>
     <li>Every "turn" (when an input is entered), call <a href="#editAll(char%5B%5D%5B%5D)"><code>editAll(char[][])</code></a> if the whole current map was altered (such as going down stairs to a new area).</li>
     <li>Every "turn" (when an input is entered), if any of the previous every-turn methods was called, call <a href="#finishChanges()"><code>finishChanges()</code></a> to complete the change.</li>
     <li>Every frame, call <a href="#update(float)"><code>update(float)</code></a>, passing it the number of milliseconds since the last turn was handled (this number can be altered).</li>
     <li>Every frame, call <a href="#getForegroundColor(com.github.yellowstonegames.grid.Coord,float)"><code>getForegroundColor(Coord, float)</code></a> for every position with a moving creature or object in it, passing it a position to query and the number of milliseconds since the last turn was handled (this number can be altered).</li>
     <li>You can get the current colors every frame from <a href="#backgroundColors"><code>backgroundColors</code></a>, which update() changes.</li>
 </ol>
 <br>
 This class uses the Oklab color space throughout. Use <a href="VisionFrameworkRgb.html" title="class in com.github.yellowstonegames.grid"><code>VisionFrameworkRgb</code></a> if you prefer RGBA colors.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>int[][]</code></div>
<div class="col-second even-row-color"><code><a href="#backgroundColors" class="member-name-link">backgroundColors</a></code></div>
<div class="col-last even-row-color">
<div class="block">The background color tints; these are the finished colors produced by <a href="#update(float)"><code>update(float)</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></code></div>
<div class="col-second odd-row-color"><code><a href="#blockage" class="member-name-link">blockage</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A small rim of cells just beyond the player's vision that blocks pathfinding to areas we can't see a path to.</div>
</div>
<div class="col-first even-row-color"><code><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></code></div>
<div class="col-second even-row-color"><code><a href="#inView" class="member-name-link">inView</a></code></div>
<div class="col-last even-row-color">
<div class="block">Contains only the cells that have a value greater than 0 in <code>lighting.fovResult</code>, meaning
 they are visible right now.</div>
</div>
<div class="col-first odd-row-color"><code><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></code></div>
<div class="col-second odd-row-color"><code><a href="#justHidden" class="member-name-link">justHidden</a></code></div>
<div class="col-last odd-row-color">
<div class="block">All cells we were able to see, but just became hidden on this turn or short period of time.</div>
</div>
<div class="col-first even-row-color"><code><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></code></div>
<div class="col-second even-row-color"><code><a href="#justSeen" class="member-name-link">justSeen</a></code></div>
<div class="col-last even-row-color">
<div class="block">All cells we just became able to see on this turn or short period of time.</div>
</div>
<div class="col-first odd-row-color"><code><a href="LightingManager.html" title="class in com.github.yellowstonegames.grid">LightingManager</a></code></div>
<div class="col-second odd-row-color"><code><a href="#lighting" class="member-name-link">lighting</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Handles all light sources, with varying colors, strengths, and flicker/strobe patterns.</div>
</div>
<div class="col-first even-row-color"><code>char[][]</code></div>
<div class="col-second even-row-color"><code><a href="#linePlaceMap" class="member-name-link">linePlaceMap</a></code></div>
<div class="col-last even-row-color">
<div class="block">The place map using box-drawing characters or <code>'#'</code> for walls, and any other chars for other terrain.</div>
</div>
<div class="col-first odd-row-color"><code><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></code></div>
<div class="col-second odd-row-color"><code><a href="#newlyVisible" class="member-name-link">newlyVisible</a></code></div>
<div class="col-last odd-row-color">
<div class="block">All cells that became visible for the first time on this turn or short period of time.</div>
</div>
<div class="col-first even-row-color"><code>int</code></div>
<div class="col-second even-row-color"><code><a href="#placeHeight" class="member-name-link">placeHeight</a></code></div>
<div class="col-last even-row-color">
<div class="block">The y-size of all 2D arrays here (the second index).</div>
</div>
<div class="col-first odd-row-color"><code>int</code></div>
<div class="col-second odd-row-color"><code><a href="#placeWidth" class="member-name-link">placeWidth</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The x-size of all 2D arrays here (the first index).</div>
</div>
<div class="col-first even-row-color"><code>float[][]</code></div>
<div class="col-second even-row-color"><code><a href="#previousLightLevels" class="member-name-link">previousLightLevels</a></code></div>
<div class="col-last even-row-color">
<div class="block">The value that <code>lighting.fovResult</code> held in the previous turn or short period of time.</div>
</div>
<div class="col-first odd-row-color"><code>char[][]</code></div>
<div class="col-second odd-row-color"><code><a href="#prunedPlaceMap" class="member-name-link">prunedPlaceMap</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The same as <a href="#linePlaceMap"><code>linePlaceMap</code></a>, but with any branches of walls that can't be seen trimmed off to only show
 what is actually visible given the current field of view and the cells seen earlier.</div>
</div>
<div class="col-first even-row-color"><code>int</code></div>
<div class="col-second even-row-color"><code><a href="#rememberedColor" class="member-name-link">rememberedColor</a></code></div>
<div class="col-last even-row-color">
<div class="block">The int color used to tint cells that could have been seen previously, but aren't currently visible.</div>
</div>
<div class="col-first odd-row-color"><code><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></code></div>
<div class="col-second odd-row-color"><code><a href="#seen" class="member-name-link">seen</a></code></div>
<div class="col-last odd-row-color">
<div class="block">All cells that we have seen in the past, on this place map.</div>
</div>
<div class="col-first even-row-color"><code><a href="CoordFloatOrderedMap.html" title="class in com.github.yellowstonegames.grid">CoordFloatOrderedMap</a></code></div>
<div class="col-second even-row-color"><code><a href="#viewers" class="member-name-link">viewers</a></code></div>
<div class="col-last even-row-color">
<div class="block">Maps the positions of "things that can view the map for the player" to how far each of those things can see.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">VisionFramework</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">The empty constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editAll(char%5B%5D%5B%5D)" class="member-name-link">editAll</a><wbr>(char[][]&nbsp;newPlaceMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fully replaces the contents of <a href="#linePlaceMap"><code>linePlaceMap</code></a> with those of <code>newPlaceMap</code>,
 and changes the light resistances for the whole place map in <a href="#lighting"><code>lighting</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editSingle(int,int,char)" class="member-name-link">editSingle</a><wbr>(int&nbsp;newX,
 int&nbsp;newY,
 char&nbsp;newCell)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Changes the char at <code>newX,newY</code> to be <code>newCell</code> and adjusts the light resistance
 for that cell only in <a href="#lighting"><code>lighting</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editSingle(com.github.yellowstonegames.grid.Coord,char)" class="member-name-link">editSingle</a><wbr>(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;position,
 char&nbsp;newCell)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Changes the char at <code>position</code> to be <code>newCell</code> and adjusts the light resistance
 for that cell only in <a href="#lighting"><code>lighting</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#equals(java.lang.Object)" class="member-name-link">equals</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;o)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finishChanges()" class="member-name-link">finishChanges</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This completes the changes started by <a href="#moveViewer(int,int,int,int)"><code>moveViewer(int, int, int, int)</code></a>, <a href="#editSingle(int,int,char)"><code>editSingle(int, int, char)</code></a>, or <a href="#editAll(char%5B%5D%5B%5D)"><code>editAll(char[][])</code></a>
 and updates the lighting according to those changes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getForegroundColor(int,int,float)" class="member-name-link">getForegroundColor</a><wbr>(int&nbsp;x,
 int&nbsp;y,
 float&nbsp;millisSinceLastMove)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">For a "foreground" creature or effect that can move between cells, call this every frame to get the color to draw
 that thing with.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getForegroundColor(com.github.yellowstonegames.grid.Coord,float)" class="member-name-link">getForegroundColor</a><wbr>(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;pos,
 float&nbsp;millisSinceLastMove)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">For a "foreground" creature or effect that can move between cells, call this every frame to get the color to draw
 that thing with.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hashCode()" class="member-name-link">hashCode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveViewer(int,int,int,int)" class="member-name-link">moveViewer</a><wbr>(int&nbsp;oldX,
 int&nbsp;oldY,
 int&nbsp;newX,
 int&nbsp;newY)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If a viewer is present at <code>oldX,oldY</code> in <a href="#viewers"><code>viewers</code></a> and no view is present
 at <code>newX,newY</code>, this moves the viewer to <code>newX,newY</code> and returns true.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)" class="member-name-link">moveViewer</a><wbr>(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;previousPosition,
 <a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;nextPosition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If a viewer is present at <code>previousPosition</code> in <a href="#viewers"><code>viewers</code></a> and no view is present
 at <code>nextPosition</code>, this moves the viewer to <code>nextPosition</code> and returns true.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putViewer(int,int,float)" class="member-name-link">putViewer</a><wbr>(int&nbsp;x,
 int&nbsp;y,
 float&nbsp;viewRange)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a viewer to <a href="#viewers"><code>viewers</code></a> with the given viewing distance, if there is no viewer already
 present at <code>x,y</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putViewer(com.github.yellowstonegames.grid.Coord,float)" class="member-name-link">putViewer</a><wbr>(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;position,
 float&nbsp;viewRange)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a viewer to <a href="#viewers"><code>viewers</code></a> with the given viewing distance, if there is no viewer already
 present at <code>position</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeViewer(int,int)" class="member-name-link">removeViewer</a><wbr>(int&nbsp;x,
 int&nbsp;y)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If a viewer is present at <code>x,y</code> in <a href="#viewers"><code>viewers</code></a>, this removes that
 viewer and returns true.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeViewer(com.github.yellowstonegames.grid.Coord)" class="member-name-link">removeViewer</a><wbr>(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;position)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If a viewer is present at <code>position</code> in <a href="#viewers"><code>viewers</code></a>, this removes that
 viewer and returns true.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restart(char%5B%5D%5B%5D,com.github.yellowstonegames.grid.CoordFloatOrderedMap)" class="member-name-link">restart</a><wbr>(char[][]&nbsp;place,
 <a href="CoordFloatOrderedMap.html" title="class in com.github.yellowstonegames.grid">CoordFloatOrderedMap</a>&nbsp;viewers)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restart(char%5B%5D%5B%5D,com.github.yellowstonegames.grid.CoordFloatOrderedMap,int)" class="member-name-link">restart</a><wbr>(char[][]&nbsp;place,
 <a href="CoordFloatOrderedMap.html" title="class in com.github.yellowstonegames.grid">CoordFloatOrderedMap</a>&nbsp;viewers,
 int&nbsp;baseColor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restart(char%5B%5D%5B%5D,com.github.yellowstonegames.grid.Coord,float)" class="member-name-link">restart</a><wbr>(char[][]&nbsp;place,
 <a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;playerPosition,
 float&nbsp;fovRange)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restart(char%5B%5D%5B%5D,com.github.yellowstonegames.grid.Coord,float,int)" class="member-name-link">restart</a><wbr>(char[][]&nbsp;place,
 <a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;playerPosition,
 float&nbsp;fovRange,
 int&nbsp;baseColor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(float)" class="member-name-link">update</a><wbr>(float&nbsp;millisSinceLastMove)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the lighting effects and writes to <a href="#backgroundColors"><code>backgroundColors</code></a> so the current tint color is stored in every
 cell of backgroundColors, for every cell in the place map.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="placeWidth">
<h3>placeWidth</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">placeWidth</span></div>
<div class="block">The x-size of all 2D arrays here (the first index).</div>
</section>
</li>
<li>
<section class="detail" id="placeHeight">
<h3>placeHeight</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">placeHeight</span></div>
<div class="block">The y-size of all 2D arrays here (the second index).</div>
</section>
</li>
<li>
<section class="detail" id="linePlaceMap">
<h3>linePlaceMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">char[][]</span>&nbsp;<span class="element-name">linePlaceMap</span></div>
<div class="block">The place map using box-drawing characters or <code>'#'</code> for walls, and any other chars for other terrain.
 In most roguelikes, there would be one of these per dungeon floor.</div>
</section>
</li>
<li>
<section class="detail" id="prunedPlaceMap">
<h3>prunedPlaceMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">char[][]</span>&nbsp;<span class="element-name">prunedPlaceMap</span></div>
<div class="block">The same as <a href="#linePlaceMap"><code>linePlaceMap</code></a>, but with any branches of walls that can't be seen trimmed off to only show
 what is actually visible given the current field of view and the cells seen earlier.
 In most roguelikes, there would be one of these per dungeon floor.</div>
</section>
</li>
<li>
<section class="detail" id="lighting">
<h3>lighting</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="LightingManager.html" title="class in com.github.yellowstonegames.grid">LightingManager</a></span>&nbsp;<span class="element-name">lighting</span></div>
<div class="block">Handles all light sources, with varying colors, strengths, and flicker/strobe patterns.</div>
</section>
</li>
<li>
<section class="detail" id="previousLightLevels">
<h3>previousLightLevels</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">float[][]</span>&nbsp;<span class="element-name">previousLightLevels</span></div>
<div class="block">The value that <code>lighting.fovResult</code> held in the previous turn or short period of time.
 In most roguelikes, there would only need to be one of these variables at a time.</div>
</section>
</li>
<li>
<section class="detail" id="backgroundColors">
<h3>backgroundColors</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[][]</span>&nbsp;<span class="element-name">backgroundColors</span></div>
<div class="block">The background color tints; these are the finished colors produced by <a href="#update(float)"><code>update(float)</code></a>.
 These colors are overwritten every time update() is called.
 <br>
 This uses packed Oklab int colors, which avoid the overhead of creating new Color objects.
 Use <code>DescriptiveColor</code> to get, describe, or create Oklab int colors.
 You can convert to RGBA8888 (which libGDX uses) with <code>DescriptiveColor.oklabIntToFloat(int)</code>
 if you want a "packed float color" that can be given to libGDX directly, or to a Color using
 <code>Color.rgba8888ToColor(changingColor, DescriptiveColor.toRGBA8888(oklabColor))</code>.
 <br>
 In most roguelikes, there would be one of these per dungeon floor.</div>
</section>
</li>
<li>
<section class="detail" id="blockage">
<h3>blockage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></span>&nbsp;<span class="element-name">blockage</span></div>
<div class="block">A small rim of cells just beyond the player's vision that blocks pathfinding to areas we can't see a path to.
 In most roguelikes, this would be temporary and only one would need to exist in total.</div>
</section>
</li>
<li>
<section class="detail" id="seen">
<h3>seen</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></span>&nbsp;<span class="element-name">seen</span></div>
<div class="block">All cells that we have seen in the past, on this place map.
 In most roguelikes, there would be one of these per dungeon floor, and it would persist.</div>
</section>
</li>
<li>
<section class="detail" id="justSeen">
<h3>justSeen</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></span>&nbsp;<span class="element-name">justSeen</span></div>
<div class="block">All cells we just became able to see on this turn or short period of time.
 In most roguelikes, this would be temporary and only one would need to exist in total.</div>
</section>
</li>
<li>
<section class="detail" id="justHidden">
<h3>justHidden</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></span>&nbsp;<span class="element-name">justHidden</span></div>
<div class="block">All cells we were able to see, but just became hidden on this turn or short period of time.
 In most roguelikes, this would be temporary and only one would need to exist in total.</div>
</section>
</li>
<li>
<section class="detail" id="newlyVisible">
<h3>newlyVisible</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></span>&nbsp;<span class="element-name">newlyVisible</span></div>
<div class="block">All cells that became visible for the first time on this turn or short period of time. These cells
 will be fading in from fully-transparent, rather than from a previously-seen gray color.</div>
</section>
</li>
<li>
<section class="detail" id="inView">
<h3>inView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Region.html" title="class in com.github.yellowstonegames.grid">Region</a></span>&nbsp;<span class="element-name">inView</span></div>
<div class="block">Contains only the cells that have a value greater than 0 in <code>lighting.fovResult</code>, meaning
 they are visible right now.</div>
</section>
</li>
<li>
<section class="detail" id="viewers">
<h3>viewers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoordFloatOrderedMap.html" title="class in com.github.yellowstonegames.grid">CoordFloatOrderedMap</a></span>&nbsp;<span class="element-name">viewers</span></div>
<div class="block">Maps the positions of "things that can view the map for the player" to how far each of those things can see.
 In a traditional roguelike, there is probably just one viewer here unless the game includes remote viewing in
 some form. In a party-based game, each member of the exploration party is probably a viewer.</div>
</section>
</li>
<li>
<section class="detail" id="rememberedColor">
<h3>rememberedColor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">rememberedColor</span></div>
<div class="block">The int color used to tint cells that could have been seen previously, but aren't currently visible.
 In VisionFramework, this defaults to the Oklab int color <code>0xFF7F7F50</code>, which is fully opaque, pure gray,
 and has about 30% lightness. You can get Oklab int colors using <code>DescriptiveColor</code>. In VisionFrameworkRgb,
 this defaults to the RGBA8888 color 0x505050FF, which is also fully opaque, pure gray, and has about 30%
 lightness. You can get RGBA8888 int colors using <code>DescriptiveColorRgb</code>.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>VisionFramework</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">VisionFramework</span>()</div>
<div class="block">The empty constructor. You can call <a href="#restart(char%5B%5D%5B%5D,com.github.yellowstonegames.grid.CoordFloatOrderedMap,int)"><code>restart(char[][], CoordFloatOrderedMap, int)</code></a> when you have a 2D char
 array to use as the map and one or more viewer positions. See the <a href="VisionFramework.html" title="class in com.github.yellowstonegames.grid"><code>class docs</code></a> for more
 usage information.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="restart(char[][],com.github.yellowstonegames.grid.Coord,float)">
<h3>restart</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restart</span><wbr><span class="parameters">(char[][]&nbsp;place,
 <a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;playerPosition,
 float&nbsp;fovRange)</span></div>
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.
 <br>
 This overload simplifies the viewers to just the common case of one viewer, the player character. You can specify
 an <code>fovRange</code> for how much the player can see without a light source, and you can also choose to add a
 light at the player's position with <a href="#lighting"><code>lighting</code></a> and its <a href="LightingManager.html#addLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Radiance)"><code>LightingManager.addLight(Coord, Radiance)</code></a>
 method. Remember to move the player with <a href="#moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>moveViewer(Coord, Coord)</code></a> and any light they carry with
 <a href="LightingManager.html#moveLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>LightingManager.moveLight(Coord, Coord)</code></a>. If the player's FOV range changes, you can update it with
 <a href="#putViewer(com.github.yellowstonegames.grid.Coord,float)"><code>putViewer(Coord, float)</code></a> using the player's current position.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>place</code> - a 2D char array representing a local map; <code>'#'</code> or box drawing characters represent walls</dd>
<dd><code>playerPosition</code> - where the one viewer will be put in the place; must be in-bounds for place</dd>
<dd><code>fovRange</code> - how far, in grid cells, the player can see without needing a light source</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restart(char[][],com.github.yellowstonegames.grid.Coord,float,int)">
<h3>restart</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restart</span><wbr><span class="parameters">(char[][]&nbsp;place,
 <a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;playerPosition,
 float&nbsp;fovRange,
 int&nbsp;baseColor)</span></div>
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.
 <br>
 This overload simplifies the viewers to just the common case of one viewer, the player character. You can specify
 an <code>fovRange</code> for how much the player can see without a light source, and you can also choose to add a
 light at the player's position with <a href="#lighting"><code>lighting</code></a> and its <a href="LightingManager.html#addLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Radiance)"><code>LightingManager.addLight(Coord, Radiance)</code></a>
 method. Remember to move the player with <a href="#moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>moveViewer(Coord, Coord)</code></a> and any light they carry with
 <a href="LightingManager.html#moveLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>LightingManager.moveLight(Coord, Coord)</code></a>. If the player's FOV range changes, you can update it with
 <a href="#putViewer(com.github.yellowstonegames.grid.Coord,float)"><code>putViewer(Coord, float)</code></a> using the player's current position.
 <br>
 This overload allows specifying a <code>baseColor</code> that will be used cells that were seen previously but can't
 be seen now; typically this is dark gray or very close to that, and it is an Oklab int color as produced by
 <code>DescriptiveColor</code>. The default, if not specified, is <a href="#rememberedColor"><code>rememberedColor</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>place</code> - a 2D char array representing a local map; <code>'#'</code> or box drawing characters represent walls</dd>
<dd><code>playerPosition</code> - where the one viewer will be put in the place; must be in-bounds for place</dd>
<dd><code>fovRange</code> - how far, in grid cells, the player can see without needing a light source</dd>
<dd><code>baseColor</code> - the packed Oklab color used for previously-seen, but not in-view, cells</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restart(char[][],com.github.yellowstonegames.grid.CoordFloatOrderedMap)">
<h3>restart</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restart</span><wbr><span class="parameters">(char[][]&nbsp;place,
 <a href="CoordFloatOrderedMap.html" title="class in com.github.yellowstonegames.grid">CoordFloatOrderedMap</a>&nbsp;viewers)</span></div>
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.
 <br>
 This overload allows having one or more viewer positions at the start, with all viewers sharing seen information
 with each other (enemy characters are not generally viewers here). Each Coord position for a viewer is associated
 with how much that viewer can see without a light source; you can also choose to add a
 light at a viewer's position with <a href="#lighting"><code>lighting</code></a> and its <a href="LightingManager.html#addLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Radiance)"><code>LightingManager.addLight(Coord, Radiance)</code></a>
 method. Remember to move any viewer with <a href="#moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>moveViewer(Coord, Coord)</code></a> and any light they carry with
 <a href="LightingManager.html#moveLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>LightingManager.moveLight(Coord, Coord)</code></a>. If a viewer's FOV range changes, you can update it with
 <a href="#putViewer(com.github.yellowstonegames.grid.Coord,float)"><code>putViewer(Coord, float)</code></a> using that viewer's current position. You can also add new viewers that way.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>place</code> - a 2D char array representing a local map; <code>'#'</code> or box drawing characters represent walls</dd>
<dd><code>viewers</code> - a CoordFloatOrderedMap of the positions of viewers to their viewing ranges; directly referenced</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restart(char[][],com.github.yellowstonegames.grid.CoordFloatOrderedMap,int)">
<h3>restart</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restart</span><wbr><span class="parameters">(char[][]&nbsp;place,
 <a href="CoordFloatOrderedMap.html" title="class in com.github.yellowstonegames.grid">CoordFloatOrderedMap</a>&nbsp;viewers,
 int&nbsp;baseColor)</span></div>
<div class="block">Some form of restart() must be called when the map is first created and whenever the whole local map changes.
 <br>
 This overload allows having one or more viewer positions at the start, with all viewers sharing seen information
 with each other (enemy characters are not generally viewers here). Each Coord position for a viewer is associated
 with how much that viewer can see without a light source; you can also choose to add a
 light at a viewer's position with <a href="#lighting"><code>lighting</code></a> and its <a href="LightingManager.html#addLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Radiance)"><code>LightingManager.addLight(Coord, Radiance)</code></a>
 method. Remember to move any viewer with <a href="#moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>moveViewer(Coord, Coord)</code></a> and any light they carry with
 <a href="LightingManager.html#moveLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)"><code>LightingManager.moveLight(Coord, Coord)</code></a>. If a viewer's FOV range changes, you can update it with
 <a href="#putViewer(com.github.yellowstonegames.grid.Coord,float)"><code>putViewer(Coord, float)</code></a> using that viewer's current position. You can also add new viewers that way.
 <br>
 This overload allows specifying a <code>baseColor</code> that will be used cells that were seen previously but can't
 be seen now; typically this is dark gray or very close to that, and it is an Oklab int color as produced by
 <code>DescriptiveColor</code>. The default, if not specified, is <a href="#rememberedColor"><code>rememberedColor</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>place</code> - a 2D char array representing a local map; <code>'#'</code> or box drawing characters represent walls</dd>
<dd><code>viewers</code> - a CoordFloatOrderedMap of the positions of viewers to their viewing ranges; directly referenced</dd>
<dd><code>baseColor</code> - the packed Oklab color used for previously-seen, but not in-view, cells</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editSingle(int,int,char)">
<h3>editSingle</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">editSingle</span><wbr><span class="parameters">(int&nbsp;newX,
 int&nbsp;newY,
 char&nbsp;newCell)</span></div>
<div class="block">Changes the char at <code>newX,newY</code> to be <code>newCell</code> and adjusts the light resistance
 for that cell only in <a href="#lighting"><code>lighting</code></a>. You must call <a href="#finishChanges()"><code>finishChanges()</code></a> when you are
 done changing the place map, in order to update the lighting with the latest changes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newX</code> - the x-position to change, as an int</dd>
<dd><code>newY</code> - the y-position to change, as an int</dd>
<dd><code>newCell</code> - the char value to use at the given position (in <a href="#linePlaceMap"><code>linePlaceMap</code></a>)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editSingle(com.github.yellowstonegames.grid.Coord,char)">
<h3>editSingle</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">editSingle</span><wbr><span class="parameters">(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;position,
 char&nbsp;newCell)</span></div>
<div class="block">Changes the char at <code>position</code> to be <code>newCell</code> and adjusts the light resistance
 for that cell only in <a href="#lighting"><code>lighting</code></a>. You must call <a href="#finishChanges()"><code>finishChanges()</code></a> when you are
 done changing the place map, in order to update the lighting with the latest changes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>position</code> - the position to change, as a non-null Coord</dd>
<dd><code>newCell</code> - the char value to use at the given position (in <a href="#linePlaceMap"><code>linePlaceMap</code></a>)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editAll(char[][])">
<h3>editAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">editAll</span><wbr><span class="parameters">(char[][]&nbsp;newPlaceMap)</span></div>
<div class="block">Fully replaces the contents of <a href="#linePlaceMap"><code>linePlaceMap</code></a> with those of <code>newPlaceMap</code>,
 and changes the light resistances for the whole place map in <a href="#lighting"><code>lighting</code></a>.
 The existing place map should really be the same size as the new place map.You must call
 <a href="#finishChanges()"><code>finishChanges()</code></a> when you are done changing the place map, in order to update
 the lighting with the latest changes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newPlaceMap</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="moveViewer(int,int,int,int)">
<h3>moveViewer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">moveViewer</span><wbr><span class="parameters">(int&nbsp;oldX,
 int&nbsp;oldY,
 int&nbsp;newX,
 int&nbsp;newY)</span></div>
<div class="block">If a viewer is present at <code>oldX,oldY</code> in <a href="#viewers"><code>viewers</code></a> and no view is present
 at <code>newX,newY</code>, this moves the viewer to <code>newX,newY</code> and returns true.
 Otherwise, this does nothing and returns false. You must call <a href="#finishChanges()"><code>finishChanges()</code></a>
 when you are done changing the place map or viewers, in order to update the lighting
 with the latest changes.
 <br>
 If a viewer represents a character with a light source, you should probably have the light
 source known via <a href="#lighting"><code>lighting</code></a>, and moving the light source should use <a href="LightingManager.html#moveLight(int,int,int,int)"><code>LightingManager.moveLight(int, int, int, int)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>oldX</code> - the x-position of the viewer to move, if one is present</dd>
<dd><code>oldY</code> - the y-position of the viewer to move, if one is present</dd>
<dd><code>newX</code> - the x-position to move the viewer to, if possible</dd>
<dd><code>newY</code> - the y-position to move the viewer to, if possible</dd>
<dt>Returns:</dt>
<dd>true if the viewer moved, or false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="moveViewer(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Coord)">
<h3>moveViewer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">moveViewer</span><wbr><span class="parameters">(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;previousPosition,
 <a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;nextPosition)</span></div>
<div class="block">If a viewer is present at <code>previousPosition</code> in <a href="#viewers"><code>viewers</code></a> and no view is present
 at <code>nextPosition</code>, this moves the viewer to <code>nextPosition</code> and returns true.
 Otherwise, this does nothing and returns false. You must call <a href="#finishChanges()"><code>finishChanges()</code></a> when
 you are done changing the place map or viewers, in order to update the lighting with the
 latest changes.
 <br>
 If a viewer represents a character with a light source, you should probably have the light
 source known via <a href="#lighting"><code>lighting</code></a>, and moving the light source should use <a href="LightingManager.html#moveLight(int,int,int,int)"><code>LightingManager.moveLight(int, int, int, int)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>previousPosition</code> - the position of the viewer to move, if one is present</dd>
<dd><code>nextPosition</code> - the position to move the viewer to, if possible</dd>
<dt>Returns:</dt>
<dd>true if the viewer moved, or false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeViewer(int,int)">
<h3>removeViewer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">removeViewer</span><wbr><span class="parameters">(int&nbsp;x,
 int&nbsp;y)</span></div>
<div class="block">If a viewer is present at <code>x,y</code> in <a href="#viewers"><code>viewers</code></a>, this removes that
 viewer and returns true. Otherwise, this does nothing and returns false. You must call
 <a href="#finishChanges()"><code>finishChanges()</code></a> when you are done changing the place map or viewers, in order to
 update the lighting with the latest changes.
 <br>
 If a viewer represents a character with a light source, you should probably have the light
 source known via <a href="#lighting"><code>lighting</code></a>, and removing the light source should use <a href="LightingManager.html#removeLight(int,int)"><code>LightingManager.removeLight(int, int)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - the x-position of the viewer to remove, if one is present</dd>
<dd><code>y</code> - the y-position of the viewer to remove, if one is present</dd>
<dt>Returns:</dt>
<dd>true if a viewer was removed, or false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeViewer(com.github.yellowstonegames.grid.Coord)">
<h3>removeViewer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">removeViewer</span><wbr><span class="parameters">(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;position)</span></div>
<div class="block">If a viewer is present at <code>position</code> in <a href="#viewers"><code>viewers</code></a>, this removes that
 viewer and returns true. Otherwise, this does nothing and returns false. You must call
 <a href="#finishChanges()"><code>finishChanges()</code></a> when you are done changing the place map or viewers, in order to
 update the lighting with the latest changes.
 <br>
 If a viewer represents a character with a light source, you should probably have the light
 source known via <a href="#lighting"><code>lighting</code></a>, and removing the light source should use <a href="LightingManager.html#removeLight(int,int)"><code>LightingManager.removeLight(int, int)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>position</code> - the position of the viewer to remove, if one is present</dd>
<dt>Returns:</dt>
<dd>true if a viewer was removed, or false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="putViewer(int,int,float)">
<h3>putViewer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putViewer</span><wbr><span class="parameters">(int&nbsp;x,
 int&nbsp;y,
 float&nbsp;viewRange)</span></div>
<div class="block">Adds a viewer to <a href="#viewers"><code>viewers</code></a> with the given viewing distance, if there is no viewer already
 present at <code>x,y</code>. If a viewer is present at <code>x,y</code> in <a href="#viewers"><code>viewers</code></a>, then
 this edits its viewing distance. You must call
 <a href="#finishChanges()"><code>finishChanges()</code></a> when you are done changing the place map or viewers, in order to
 update the lighting with the latest changes.
 <br>
 If a viewer represents a character with a light source, you should probably have the light
 source known via <a href="#lighting"><code>lighting</code></a>, and adding a light source should use <a href="LightingManager.html#addLight(int,int,com.github.yellowstonegames.grid.Radiance)"><code>LightingManager.addLight(int, int, Radiance)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - the x-position of the viewer to place or edit</dd>
<dd><code>y</code> - the y-position of the viewer to place or edit</dd>
<dd><code>viewRange</code> - the viewing distance to use for the placed or edited viewer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="putViewer(com.github.yellowstonegames.grid.Coord,float)">
<h3>putViewer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putViewer</span><wbr><span class="parameters">(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;position,
 float&nbsp;viewRange)</span></div>
<div class="block">Adds a viewer to <a href="#viewers"><code>viewers</code></a> with the given viewing distance, if there is no viewer already
 present at <code>position</code>. If a viewer is present at <code>position</code> in <a href="#viewers"><code>viewers</code></a>, then
 this edits its viewing distance. You must call
 <a href="#finishChanges()"><code>finishChanges()</code></a> when you are done changing the place map or viewers, in order to
 update the lighting with the latest changes.
 <br>
 If a viewer represents a character with a light source, you should probably have the light
 source known via <a href="#lighting"><code>lighting</code></a>, and adding a light source should use <a href="LightingManager.html#addLight(com.github.yellowstonegames.grid.Coord,com.github.yellowstonegames.grid.Radiance)"><code>LightingManager.addLight(Coord, Radiance)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>position</code> - the position of the viewer to place or edit</dd>
<dd><code>viewRange</code> - the viewing distance to use for the placed or edited viewer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finishChanges()">
<h3>finishChanges</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">finishChanges</span>()</div>
<div class="block">This completes the changes started by <a href="#moveViewer(int,int,int,int)"><code>moveViewer(int, int, int, int)</code></a>, <a href="#editSingle(int,int,char)"><code>editSingle(int, int, char)</code></a>, or <a href="#editAll(char%5B%5D%5B%5D)"><code>editAll(char[][])</code></a>
 and updates the lighting according to those changes. This affects almost all variables present in
 this object. It should be noted that the methods that change a place map only change <a href="#linePlaceMap"><code>linePlaceMap</code></a>;
 that is because the end of this method uses linePlaceMap and the currently seen cells to update
 <a href="#prunedPlaceMap"><code>prunedPlaceMap</code></a>. Rendering should typically determine what to draw by using prunedPlaceMap.</div>
</section>
</li>
<li>
<section class="detail" id="getForegroundColor(com.github.yellowstonegames.grid.Coord,float)">
<h3>getForegroundColor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getForegroundColor</span><wbr><span class="parameters">(<a href="Coord.html" title="class in com.github.yellowstonegames.grid">Coord</a>&nbsp;pos,
 float&nbsp;millisSinceLastMove)</span></div>
<div class="block">For a "foreground" creature or effect that can move between cells, call this every frame to get the color to draw
 that thing with. The color is a packed Oklab int, as <code>DescriptiveColor</code> produces. This can return 0 if a
 creature or thing cannot be seen and is not fading in or out of view. Otherwise, the int color this returns will
 be white with some level of transparency -- if the creature is in view now and was in view previously, then it
 will be opaque white, otherwise it will have some transparency between 0 and 1.
 This takes a float argument, <code>millisSinceLastMove</code>, that is the number of milliseconds since the player
 last entered an input that changed the map or its inhabitants. This is used to handle fading creatures into view
 when the player's input suddenly revealed those creatures, or fading them out of view if they become hidden. You
 don't need to give milliseconds precisely; while the input is effectively clamped between 0 and 1000, you can
 multiply the actual milliseconds that have passed by (for example) 4 to reduce the time a fade effect takes to
 complete (to a quarter-second). Multiplying by a large number will make fades instantaneous.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pos</code> - the position to get the "foreground" color for; does not actually have to have a creature in it</dd>
<dd><code>millisSinceLastMove</code> - how many milliseconds have elapsed since the human player last entered an input, for fading</dd>
<dt>Returns:</dt>
<dd>the packed Oklab int color to tint any foreground creature or object with at <code>pos</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getForegroundColor(int,int,float)">
<h3>getForegroundColor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getForegroundColor</span><wbr><span class="parameters">(int&nbsp;x,
 int&nbsp;y,
 float&nbsp;millisSinceLastMove)</span></div>
<div class="block">For a "foreground" creature or effect that can move between cells, call this every frame to get the color to draw
 that thing with. The color is a packed Oklab int, as <code>DescriptiveColor</code> produces. This can return 0 if a
 creature or thing cannot be seen and is not fading in or out of view. Otherwise, the int color this returns will
 be white with some level of transparency -- if the creature is in view now and was in view previously, then it
 will be opaque white, otherwise it will have some transparency between 0 and 1. Note that because white is the
 lightest color that can be represented, and it is the "neutral color" for a tint like this, there is no way for
 this tint to be used to lighten a sprite or other visual object.
 <br>
 This takes a float argument, <code>millisSinceLastMove</code>, that is the number of milliseconds since the player
 last entered an input that changed the map or its inhabitants. This is used to handle fading creatures into view
 when the player's input suddenly revealed those creatures, or fading them out of view if they become hidden. You
 don't need to give milliseconds precisely; while the input is effectively clamped between 0 and 1000, you can
 multiply the actual milliseconds that have passed by (for example) 4 to reduce the time a fade effect takes to
 complete (to a quarter-second). Multiplying by a large number will make fades instantaneous.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - the x-position to get the "foreground" color for; does not actually have to have a creature in it</dd>
<dd><code>y</code> - the y-position to get the "foreground" color for; does not actually have to have a creature in it</dd>
<dd><code>millisSinceLastMove</code> - how many milliseconds have elapsed since the human player last entered an input, for fading</dd>
<dt>Returns:</dt>
<dd>the packed Oklab int color to tint any foreground creature or object with at <code>x,y</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="update(float)">
<h3>update</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(float&nbsp;millisSinceLastMove)</span></div>
<div class="block">Updates the lighting effects and writes to <a href="#backgroundColors"><code>backgroundColors</code></a> so the current tint color is stored in every
 cell of backgroundColors, for every cell in the place map. Call this every frame while lights are updating (for
 flicker and strobe effects); this does not need to be called if the game has rendering paused for any reason.
 This takes a float argument, <code>millisSinceLastMove</code>, that is the number of milliseconds since the player
 last entered an input that changed the map or its inhabitants. This is used to handle fading creatures into view
 when the player's input suddenly revealed those creatures, or fading them out of view if they become hidden. You
 don't need to give milliseconds precisely; while the input is effectively clamped between 0 and 1000, you can
 multiply the actual milliseconds that have passed by (for example) 4 to reduce the time a fade effect takes to
 complete (to a quarter-second). Multiplying by a large number will make fades instantaneous.
 <br>
 This sets <a href="#backgroundColors"><code>backgroundColors</code></a> to hold visible Oklab int colors where a cell is visible.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>millisSinceLastMove</code> - how many milliseconds have elapsed since the human player last entered an input, for fading</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="equals(java.lang.Object)">
<h3>equals</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">equals</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;o)</span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hashCode()">
<h3>hashCode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">hashCode</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
