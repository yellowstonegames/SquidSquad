<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) -->
<title>GradientVectors (squidgrid 4.0.2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.github.yellowstonegames.grid, class: GradientVectors">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li>Constr</li>
<li>Method</li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.github.yellowstonegames.grid</a></div>
<h1 title="Class GradientVectors" class="title">Class GradientVectors</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.github.yellowstonegames.grid.GradientVectors</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">GradientVectors</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Stores arrays representing vectors on the unit hypersphere in 2D through 6D. This is used by <a href="PerlinNoise.html" title="class in com.github.yellowstonegames.grid"><code>PerlinNoise</code></a> and
 <a href="SimplexNoise.html" title="class in com.github.yellowstonegames.grid"><code>SimplexNoise</code></a>, as well as indirectly by all classes that use those. Each constant in this class stores 256
 unit vectors in a 1D array, one after the next, but sometimes with padding.  See the docs for each constant for more
 information, but <a href="#GRADIENTS_2D"><code>GRADIENTS_2D</code></a> and <a href="#GRADIENTS_4D"><code>GRADIENTS_4D</code></a> have no padding, and the others have one to three
 ignored floats after each vector.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final float[]</code></div>
<div class="col-second even-row-color"><code><a href="#CELLULAR_GRADIENTS_2D" class="member-name-link">CELLULAR_GRADIENTS_2D</a></code></div>
<div class="col-last even-row-color">
<div class="block">The same vectors as <a href="#GRADIENTS_2D"><code>GRADIENTS_2D</code></a>, but scaled by a factor of 0.45f so that they can be used by
 <a href="CellularNoise.html" title="class in com.github.yellowstonegames.grid"><code>CellularNoise</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code>static final float[]</code></div>
<div class="col-second odd-row-color"><code><a href="#CELLULAR_GRADIENTS_3D" class="member-name-link">CELLULAR_GRADIENTS_3D</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The same vectors as <a href="#GRADIENTS_3D"><code>GRADIENTS_3D</code></a>, but scaled by a factor of 0.45f so that they can be used by
 <a href="CellularNoise.html" title="class in com.github.yellowstonegames.grid"><code>CellularNoise</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>static final float[]</code></div>
<div class="col-second even-row-color"><code><a href="#CELLULAR_GRADIENTS_4D" class="member-name-link">CELLULAR_GRADIENTS_4D</a></code></div>
<div class="col-last even-row-color">
<div class="block">The same vectors as <a href="#GRADIENTS_4D"><code>GRADIENTS_4D</code></a>, but scaled by a factor of 0.45f so that they can be used by
 <a href="CellularNoise.html" title="class in com.github.yellowstonegames.grid"><code>CellularNoise</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code>static final float[]</code></div>
<div class="col-second odd-row-color"><code><a href="#GRADIENTS_2D" class="member-name-link">GRADIENTS_2D</a></code></div>
<div class="col-last odd-row-color">
<div class="block">256 equidistant points on the 2D unit circle.</div>
</div>
<div class="col-first even-row-color"><code>static final float[]</code></div>
<div class="col-second even-row-color"><code><a href="#GRADIENTS_3D" class="member-name-link">GRADIENTS_3D</a></code></div>
<div class="col-last even-row-color">
<div class="block">The 32 vertices of a <a href="https://en.wikipedia.org/wiki/Rhombic_triacontahedron">rhombic triacontahedron</a>,
 normalized to lie on the unit sphere in 3D.</div>
</div>
<div class="col-first odd-row-color"><code>static final float[]</code></div>
<div class="col-second odd-row-color"><code><a href="#GRADIENTS_4D" class="member-name-link">GRADIENTS_4D</a></code></div>
<div class="col-last odd-row-color">
<div class="block">256 quasi-random 4D unit vectors, generated by taking the "Super-Fibonacci spiral" and gradually adjusting
 its points until they reached equilibrium.</div>
</div>
<div class="col-first even-row-color"><code>static final float[]</code></div>
<div class="col-second even-row-color"><code><a href="#GRADIENTS_5D" class="member-name-link">GRADIENTS_5D</a></code></div>
<div class="col-last even-row-color">
<div class="block">Randomly selected points on the 5D unit hypersphere (mathematically, the '4-sphere').</div>
</div>
<div class="col-first odd-row-color"><code>static final float[]</code></div>
<div class="col-second odd-row-color"><code><a href="#GRADIENTS_6D" class="member-name-link">GRADIENTS_6D</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Randomly selected points on the 6D unit hypersphere (mathematically, the '5-sphere').</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="GRADIENTS_2D">
<h3>GRADIENTS_2D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">GRADIENTS_2D</span></div>
<div class="block">256 equidistant points on the 2D unit circle.
 Each point is stored in 2 floats, and there no padding. The distance from each
 point to the origin should be 1.0, subject to rounding error.
 <br>
 The points were randomly rotated to try to avoid correlation on any typical axis; all points used the same
 rotation to keep their distance to each other and shape.
 <br>
 This particular set of 256 gradient vectors is either optimal or very close to optimal for this size of a
 set of vectors.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="GRADIENTS_3D">
<h3>GRADIENTS_3D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">GRADIENTS_3D</span></div>
<div class="block">The 32 vertices of a <a href="https://en.wikipedia.org/wiki/Rhombic_triacontahedron">rhombic triacontahedron</a>,
 normalized to lie on the unit sphere in 3D.
 Each point is stored in 3 floats, and there is 1 float of padding after each point
 (to allow easier access to points using bitwise operations). The distance from each
 point to the origin should be 1.0, subject to rounding error.
 <br>
 The points were randomly rotated to try to avoid correlation on any typical axis; all points used the same
 rotation to keep their distance to each other and shape. Each group of 32 vertices is repeated 8 times, each time
 shuffled differently within that group. That means this holds 256 points, with 8 repeats of each point included
 in that. If you only look at the first 32 points, each point will be unique.
 <br>
 This particular set of 32 gradient vectors is either optimal or very close to optimal for a power-of-two-sized
 set of vectors (except for very small sets like the vertices of a tetrahedron).</div>
</div>
</section>
</li>
<li>
<section class="detail" id="GRADIENTS_4D">
<h3>GRADIENTS_4D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">GRADIENTS_4D</span></div>
<div class="block">256 quasi-random 4D unit vectors, generated by taking the "Super-Fibonacci spiral" and gradually adjusting
 its points until they reached equilibrium. 128 vectors were generated this way, and the remaining
 128 are the polar opposite points of each of those vectors (their antipodes).
 <a href="https://marcalexa.github.io/superfibonacci/">This page by Marc Alexa</a> covers the spiral, though
 an empirical search found better constants for our specific number of points (128, plus their antipodes).
 <br>
 Each point is stored in 4 floats, and there is no padding between points. The distance from each
 point to the origin should be 1.0, subject to rounding error.
 Each point is unique, and as long as you sample a point in the expected way (starting on a multiple
 of four, using four sequential floats as the x, y, z, w components), the points will all be unit vectors.
 The points were shuffled here to avoid any correlation when sampling in sequence.
 <br>
 This particular set of 256 gradient vectors is fairly close to optimal for a power-of-two-sized
 set of vectors. A set of 256 unit vectors with all-equal distances to their neighbors can't be made.
 The minimum distance (in 4D Euclidean space) between any two points in this set is 0.369142885554421 .
 <br>
 This also doesn't have any easily-noticed visual artifacts, which is much better than the previous
 set of 64 gradient vectors using a truncated tesseract. Those 64 points were much more likely to
 lie on straight lines when projected using a certain method, and also had rather clear angles.
 The "certain method" is to take points on the surface of a sphere in 4D (properly, the "3-sphere"
 because it has 3 degrees of freedom), and ignore two coordinates while keeping the other two.
 This should produce 2D points uniformly distributed across the inside of a circle (properly, the
 "2-ball" because it has 2 degrees of freedom, and apparently a ball is solid, but a sphere is not).
 Repeating this for each possible pair that can be dropped shows some good views of an otherwise
 hard-to-contemplate shape. This method does show spirals for certain coordinates (xy and zw show
 spirals, but xz, zw, and yw do not). This shouldn't be too obvious in practice.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="GRADIENTS_5D">
<h3>GRADIENTS_5D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">GRADIENTS_5D</span></div>
<div class="block">Randomly selected points on the 5D unit hypersphere (mathematically, the '4-sphere').
 Each point is stored in 5 floats, and there are 3 floats of padding after each point
 (to allow easier access to points using bitwise operations). The distance from each
 point to the origin should be 1.0, subject to rounding error; this is implied by the
 point being on the unit hypersphere, but earlier gradient vectors used a different
 distance to the origin.
 <br>
 These 256 points were found by getting 128 points from a Halton sequence (the
 3,5,7,11,2 sequence) and their polar opposites, running each through probit()
 to normal-distribute them, normalizing those points, and then optimizing the resulting
 points by "nudging" points away from their closest neighbors until equilibrium.
 For every point on the sphere present here, the polar opposite of that point is also
 present, ensuring there is no bias along any particular axis. The points were also
 shuffled, in case they are retrieved by a less-random method (such as iteration).
 <br>
 This particular set of gradient vectors is almost certainly not optimal, but finding a
 better one is very, very slow right now. The minimum distance between any two points
 is 0.49298331.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="GRADIENTS_6D">
<h3>GRADIENTS_6D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">GRADIENTS_6D</span></div>
<div class="block">Randomly selected points on the 6D unit hypersphere (mathematically, the '5-sphere').
 Each point is stored in 6 floats, and there are 2 floats of padding after each point
 (to allow easier access to points using bitwise operations). The distance from each
 point to the origin should be 1.0, subject to rounding error; this is implied by the
 point being on the unit hypersphere, but earlier gradient vectors used a different
 distance to the origin.
 <br>
 These 256 points were found by getting 128 points from a Halton sequence (the
 3,5,7,11,2,13 sequence) and their polar opposites, running each through probit()
 to normal-distribute them, normalizing those points, and then optimizing the resulting
 points by "nudging" points away from their closest neighbors until equilibrium.
 For every point on the sphere present here, the polar opposite of that point is also
 present, ensuring there is no bias along any particular axis. The points were also
 shuffled, in case they are retrieved by a less-random method (such as iteration).
 <br>
 This particular set of gradient vectors is almost certainly not optimal, but finding a
 better one is very, very slow right now. The minimum distance between any two points
 is 0.63219683.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="CELLULAR_GRADIENTS_2D">
<h3>CELLULAR_GRADIENTS_2D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">CELLULAR_GRADIENTS_2D</span></div>
<div class="block">The same vectors as <a href="#GRADIENTS_2D"><code>GRADIENTS_2D</code></a>, but scaled by a factor of 0.45f so that they can be used by
 <a href="CellularNoise.html" title="class in com.github.yellowstonegames.grid"><code>CellularNoise</code></a>.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="CELLULAR_GRADIENTS_3D">
<h3>CELLULAR_GRADIENTS_3D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">CELLULAR_GRADIENTS_3D</span></div>
<div class="block">The same vectors as <a href="#GRADIENTS_3D"><code>GRADIENTS_3D</code></a>, but scaled by a factor of 0.45f so that they can be used by
 <a href="CellularNoise.html" title="class in com.github.yellowstonegames.grid"><code>CellularNoise</code></a>.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="CELLULAR_GRADIENTS_4D">
<h3>CELLULAR_GRADIENTS_4D</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">float[]</span>&nbsp;<span class="element-name">CELLULAR_GRADIENTS_4D</span></div>
<div class="block">The same vectors as <a href="#GRADIENTS_4D"><code>GRADIENTS_4D</code></a>, but scaled by a factor of 0.45f so that they can be used by
 <a href="CellularNoise.html" title="class in com.github.yellowstonegames.grid"><code>CellularNoise</code></a>.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
